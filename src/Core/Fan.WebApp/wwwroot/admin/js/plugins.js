Vue.component("plugins",{mixins:[pluginsMixin],data:()=>({headers:[{text:"Plugin",value:"plugin"},{text:"Description",value:"description",sortable:!1},{text:"Actions",value:"actions",sortable:!1}],dialogVisible:!1,dialogTitle:"",settingsUrl:null}),mounted(){this.initSettingsUpdatedHandler()},methods:{activate(a){axios.post("/admin/plugins?handler=activate",{folder:a.folder},this.$root.headers).then(b=>{a.active=!0,a.id=b.data}).catch(()=>{this.$root.toastError("Activate plugin failed.")})},deactivate(a){axios.post("/admin/plugins?handler=deactivate",{id:a.id},this.$root.headers).then(()=>{a.active=!1}).catch(()=>{this.$root.toastError("Deactivate plugin failed.")})},viewSettings(a){this.dialogTitle=a.name,this.dialogVisible=!0,this.settingsUrl=a.settingsUrl},closeDialog(){this.dialogVisible=!1},initSettingsUpdatedHandler(){let a=this;window.document.addEventListener("ExtSettingsUpdated",b=>{a.$root.toast(b.detail.msg),a.closeDialog()})}}});
//# sourceMappingURL=plugins.js.map