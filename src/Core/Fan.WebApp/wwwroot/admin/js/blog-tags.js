Vue.component("blog-tags",{mixins:[tagsMixin],data:()=>({dialogVisible:!1,title:"",description:"",upsertText:"Add",tagEditing:null,errMsg:""}),computed:{disableUpsertButton(){return 0>=this.title.trim().length},addButtonVisible(){return"Add"===this.upsertText},payload(){return{title:this.title,description:this.description}}},methods:{closeDialog(){this.dialogVisible=!1,this.title="",this.description="",this.errMsg=""},addTag(){this.dialogVisible=!0,this.title="",this.description="",this.upsertText="Add"},editTag(a){this.dialogVisible=!0,this.tagEditing=a,this.upsertText="Edit",this.title=a.title,this.description=a.description},deleteTag(a){confirm(`Are you sure you want to permanently delete '${a.title}'?`)&&axios.delete(`/admin/tags?id=${a.id}`,this.$root.headers).then(()=>{let b=this.tags.findIndex(b=>b.id===a.id);this.tags.splice(b,1),this.$root.toast("Tag deleted.")}).catch(()=>{this.$root.toastError("Delete tag failed.")})},viewPosts(a){window.location.href=a},insertTag(){axios.post("/admin/tags",this.payload,this.$root.headers).then(a=>{this.closeDialog(),this.tags.push(a.data),this.sortTags(),this.$root.toast("New tag added.")}).catch(a=>{this.errMsg=a.response.data,this.$root.toastError("Add tag failed.")})},updateTag(){this.payload.id=this.tagEditing.id,this.payload.count=this.tagEditing.count,axios.post("/admin/tags?handler=update",this.payload,this.$root.headers).then(a=>{this.closeDialog();let b=this.tags.findIndex(b=>b.id===a.data.id);this.tags[b]=a.data,this.sortTags(),this.$root.toast("Tag updated.")}).catch(a=>{this.errMsg=a.response.data,this.$root.toastError("Update tag failed.")})},sortTags(){this.tags.sort((c,a)=>{var b=c.title.toUpperCase(),d=a.title.toUpperCase();return b<d?-1:b>d?1:0})}}});
//# sourceMappingURL=blog-tags.js.map