{"version":3,"sources":["../../../Manage/Admin/client/js/compose-pagenav.js"],"names":["app","Vue","el","mixins","composeMixin","editorMdMixin","data","drawer","panel","editor","saveDisabled","saveText","snackbar","show","text","color","timeout","computed","tok","document","querySelector","value","headers","mounted","initEditor","methods","save","axios","post","pageId","navMd","getMarkdown","toast","err","toastError","response","insertNav","title","insertValue"],"mappings":"AAAC,GAAIA,CAAAA,GAAG,CAAG,GAAIC,CAAAA,GAAJ,CAAQ,CACfC,EAAE,CAAE,MADW,CAEfC,MAAM,CAAE,CAACC,YAAD,CAAeC,aAAf,CAFO,CAGfC,IAAI,CAAE,KAAO,CACTC,MAAM,CAAE,IADC,CAETC,KAAK,CAAE,UAFE,CAGTC,MAAM,CAAE,IAHC,CAITC,YAAY,GAJH,CAKTC,QAAQ,CAAE,MALD,CAMTC,QAAQ,CAAE,CACNC,IAAI,GADE,CAENC,IAAI,CAAE,EAFA,CAGNC,KAAK,CAAE,EAHD,CAINC,OAAO,CAAE,GAJH,CAND,CAAP,CAHS,CAgBfC,QAAQ,CAAE,CACNC,GAAG,CAAE,UAAY,CACb,MAAOC,CAAAA,QAAQ,CAACC,aAAT,CAAuB,6DAAvB,EAAkFC,KAC5F,CAHK,CAINC,OAAO,EAAG,CACN,MAAO,CAAEA,OAAO,CAAE,CAAE,aAAc,KAAKJ,GAArB,CAAX,CACV,CANK,CAhBK,CAwBfK,OAAO,EAAG,CACN,KAAKC,UAAL,EACH,CA1Bc,CA2BfC,OAAO,CAAE,CACL,KAAMC,CAAAA,IAAN,EAAa,CACT,GAAI,CACA,KAAKhB,YAAL,GADA,CAEA,KAAKC,QAAL,CAAgB,WAFhB,CAGA,KAAMgB,CAAAA,KAAK,CAACC,IAAN,CAAW,qCAAX,CACF,CAAEC,MAAM,CAAE,KAAKA,MAAf,CAAuBC,KAAK,CAAE,KAAKrB,MAAL,CAAYsB,WAAZ,EAA9B,CADE,CACyD,CAAET,OAAO,CAAE,CAAE,aAAc,KAAKJ,GAArB,CAAX,CADzD,CAHN,CAKA,KAAKc,KAAL,CAAW,wBAAX,CACH,CAAC,MAAOC,CAAP,CAAY,CACV,KAAKC,UAAL,CAAgBD,CAAG,CAACE,QAAJ,CAAa7B,IAA7B,CACH,CACD,KAAKK,QAAL,CAAgB,MAVP,CAWT,KAAKD,YAAL,GACH,CAbI,CAcL0B,SAAS,CAACC,CAAD,CAAQ,CACb,KAAK5B,MAAL,CAAY6B,WAAZ,CAAyB,OAAMD,CAAM,MAArC,CACH,CAhBI,CAiBLL,KAAK,CAAClB,CAAD,CAAOC,CAAK,CAAG,QAAf,CAAyB,CAC1B,KAAKH,QAAL,CAAcC,IAAd,GAD0B,CAE1B,KAAKD,QAAL,CAAcE,IAAd,CAAqBA,CAFK,CAG1B,KAAKF,QAAL,CAAcG,KAAd,CAAsBA,CAHI,CAI1B,KAAKH,QAAL,CAAcI,OAAd,CAAwB,GAC3B,CAtBI,CAuBLkB,UAAU,CAACpB,CAAD,CAAO,CACb,KAAKF,QAAL,CAAcC,IAAd,GADa,CAEb,KAAKD,QAAL,CAAcE,IAAd,CAAqBA,CAFR,CAGb,KAAKF,QAAL,CAAcG,KAAd,CAAsB,KACzB,CA3BI,CA3BM,CAAR,CAAV","sourcesContent":["ï»¿let app = new Vue({\r\n    el: '#app',\r\n    mixins: [composeMixin, editorMdMixin],\r\n    data: () => ({\r\n        drawer: null,\r\n        panel: [true, true, true],\r\n        editor: null,\r\n        saveDisabled: false,\r\n        saveText: 'Save',\r\n        snackbar: {\r\n            show: false,\r\n            text: '',\r\n            color: '',\r\n            timeout: 10000,\r\n        },\r\n    }),\r\n    computed: {\r\n        tok: function () {\r\n            return document.querySelector('input[name=\"__RequestVerificationToken\"][type=\"hidden\"]').value;\r\n        },\r\n        headers() {\r\n            return { headers: { 'XSRF-TOKEN': this.tok } };\r\n        },\r\n    },\r\n    mounted() {\r\n        this.initEditor();\r\n    },\r\n    methods: {\r\n        async save() {\r\n            try {\r\n                this.saveDisabled = true;\r\n                this.saveText = 'Saving...';\r\n                await axios.post('/admin/compose/pagenav?handler=save',\r\n                    { pageId: this.pageId, navMd: this.editor.getMarkdown() }, { headers: { 'XSRF-TOKEN': this.tok } });\r\n                this.toast('Page navigation saved.');\r\n            } catch (err) {\r\n                this.toastError(err.response.data);\r\n            }\r\n            this.saveText = 'Save';\r\n            this.saveDisabled = false;\r\n        },\r\n        insertNav(title) {\r\n            this.editor.insertValue(`- [[${title}]]\\n`);\r\n        },\r\n        toast(text, color = 'silver') {\r\n            this.snackbar.show = true;\r\n            this.snackbar.text = text;\r\n            this.snackbar.color = color;\r\n            this.snackbar.timeout = 3000;\r\n        },\r\n        toastError(text) {\r\n            this.snackbar.show = true;\r\n            this.snackbar.text = text;\r\n            this.snackbar.color = 'red';\r\n        },\r\n    },\r\n});\r\n"],"file":"compose-pagenav.js"}